\section{Experiment Case Study}
\label{sec-experiment}

As a case study in \PhoneLab{} usage, we have developed a measurement
student, deployed it on 115 phones and collected data for 21 days. While less
exciting than the potential experiments we discuss later, we felt that a
measurement study was an ideal place to begin. It demonstrates the scale,
realism, and power of \PhoneLab{}, and it generates a broadly-useful dataset
that will serve as a starting point for future experiments.\footnote{Access
to data generated by our measurement study will be allowed with IRB
approval.}

\subsection{Usage Measurement}

Our experiment attempts to collect information about all salient features of
smartphone usage: networking, mobility, power consumption, and application
usage. Table~\ref{table-experimenttags} describes each log tag used by our
experiment and what data it is used to collect. Notice that we use a mixture
of active log generation and passive log snooping.

\subsection{Logging Tool}

Our experiment records usage information in two ways. The first way is to
take a snapshot every 15 minutes. This snapshot is intended to capture the
overall state of the phone periodically. The information we capture includes
the amount of battery consumed, the amount of data sent and received over 3G
or Wifi, storage use, and other salient features. We have chosen the
15-minute interval in order to reduce the battery consumption of our
experiment. Whenever we can, we also log broadcasts intents that we receive
representing per-event information such screen lock transitions, Wifi scan
results, call status, and power state changes.

Most of the information we collect is available either through the standard
Android interfaces or by subscribing to system intents. The only exception is the
information related to battery since there is no interface or intent that provides
the information. Due to this reason, we use Java reflection to introspect the
internal battery APIs. PowerTutor~\cite{zhang:codes:2010} takes a similar
approach to analyze battery usage.

\subsection{Approval, Distribution and Deployment}

The turnaround time for our IRB approval was quick. We had two revisions due
to our misunderstanding of the instructions, but the turnaround time for each
was about a week.

We uploaded our experiment to the Play Store on November 14, 2012 and
announced its available to our participants via a mass email. Within a day,
82 participants installed our experiment. After 5 days, the number grew to
115. We have only sent out the email announcement once, and this may be the
reason that not every participant has joined our experiment. However, the
fact that 115 participants did elect to participate within a week after only
one email indicates that our participants understand \PhoneLab{}
expectations.

Interestingly, one participant has expressed a concern about the permissions
our experiment requested citing the lack of accurate information about
Android permissions. The participant was particularly concerned about two
permissions, ``Hardware controls'' that we request for collecting camera
usage and ``Phone calls'' that we request for telephony usage. Since
Android's default descriptions provide vague descriptions for these
permissions such as ``(Hardware control permission) record(s) audio'' and
``(Phone call permission) determine(s) ... the remote number connected by a
call,'' the participant believed our experiment was doing those things. A
survey study has reported a similar problem that the user comprehension level
for Android permissions is remarkably low~\cite{felt:soups:2012}.

We leveraged our data logging and collection mechanism by labeling different
types of information with different tags. For example, we use
\texttt{PhoneLabSystemAnalysis-Snapshot} for snapshots and
\texttt{PhoneLabSystemAnalysis-Location} for location usage.
Table~\ref{table-experimenttags} describes most of the tags that we used.
